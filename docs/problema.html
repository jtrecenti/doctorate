<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Quebrando CAPTCHAs</title>
  <meta name="description" content="Tese de doutorado.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Quebrando CAPTCHAs" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Tese de doutorado." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Quebrando CAPTCHAs" />
  
  <meta name="twitter:description" content="Tese de doutorado." />
  

<meta name="author" content="Julio Trecenti">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="introducao.html">
<link rel="next" href="results.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="introducao.html"><a href="introducao.html"><i class="fa fa-check"></i><b>2</b> Introdução</a><ul>
<li class="chapter" data-level="2.1" data-path="introducao.html"><a href="introducao.html#objetivos"><i class="fa fa-check"></i><b>2.1</b> Objetivos</a></li>
<li class="chapter" data-level="2.2" data-path="introducao.html"><a href="introducao.html#resultados-esperados"><i class="fa fa-check"></i><b>2.2</b> Resultados esperados</a></li>
<li class="chapter" data-level="2.3" data-path="introducao.html"><a href="introducao.html#revisao-bibliografica"><i class="fa fa-check"></i><b>2.3</b> Revisão bibliográfica</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="problema.html"><a href="problema.html"><i class="fa fa-check"></i><b>3</b> Problema</a><ul>
<li class="chapter" data-level="3.1" data-path="problema.html"><a href="problema.html#variantes"><i class="fa fa-check"></i><b>3.1</b> Variantes</a><ul>
<li class="chapter" data-level="3.1.1" data-path="problema.html"><a href="problema.html#audio"><i class="fa fa-check"></i><b>3.1.1</b> Áudio</a></li>
<li class="chapter" data-level="3.1.2" data-path="problema.html"><a href="problema.html#covariaveis-e-numero-de-respostas-variavel"><i class="fa fa-check"></i><b>3.1.2</b> Covariáveis e número de respostas variável</a></li>
<li class="chapter" data-level="3.1.3" data-path="problema.html"><a href="problema.html#recaptcha-2.0"><i class="fa fa-check"></i><b>3.1.3</b> reCaptcha 2.0</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>4</b> Solução</a><ul>
<li class="chapter" data-level="4.1" data-path="results.html"><a href="results.html#segmentacao-e-classificacao"><i class="fa fa-check"></i><b>4.1</b> Segmentação e classificação</a></li>
<li class="chapter" data-level="4.2" data-path="results.html"><a href="results.html#forca-bruta"><i class="fa fa-check"></i><b>4.2</b> Força-bruta</a><ul>
<li class="chapter" data-level="4.2.1" data-path="results.html"><a href="results.html#redes-neurais"><i class="fa fa-check"></i><b>4.2.1</b> Redes neurais</a></li>
<li class="chapter" data-level="4.2.2" data-path="results.html"><a href="results.html#a-operacao-de-convolucao"><i class="fa fa-check"></i><b>4.2.2</b> A operação de convolução</a></li>
<li class="chapter" data-level="4.2.3" data-path="results.html"><a href="results.html#redes-neurais-convolucionais"><i class="fa fa-check"></i><b>4.2.3</b> Redes neurais convolucionais</a></li>
<li class="chapter" data-level="4.2.4" data-path="results.html"><a href="results.html#resultados"><i class="fa fa-check"></i><b>4.2.4</b> Resultados</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="eficiencia-e-generalizacao.html"><a href="eficiencia-e-generalizacao.html"><i class="fa fa-check"></i><b>5</b> Eficiência e generalização</a><ul>
<li class="chapter" data-level="5.0.1" data-path="eficiencia-e-generalizacao.html"><a href="eficiencia-e-generalizacao.html#feedback"><i class="fa fa-check"></i><b>5.0.1</b> Feedback</a></li>
<li class="chapter" data-level="5.0.2" data-path="eficiencia-e-generalizacao.html"><a href="eficiencia-e-generalizacao.html#reciclagem"><i class="fa fa-check"></i><b>5.0.2</b> Reciclagem</a></li>
<li class="chapter" data-level="5.0.3" data-path="eficiencia-e-generalizacao.html"><a href="eficiencia-e-generalizacao.html#ensemble"><i class="fa fa-check"></i><b>5.0.3</b> Ensemble</a></li>
<li class="chapter" data-level="5.0.4" data-path="eficiencia-e-generalizacao.html"><a href="eficiencia-e-generalizacao.html#section"><i class="fa fa-check"></i><b>5.0.4</b> </a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="6" data-path="pacote-decryptr.html"><a href="pacote-decryptr.html"><i class="fa fa-check"></i><b>6</b> Pacote decryptr</a></li>
<li class="chapter" data-level="7" data-path="captchas-em-audio.html"><a href="captchas-em-audio.html"><i class="fa fa-check"></i><b>7</b> CAPTCHAs em áudio</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quebrando CAPTCHAs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="problema" class="section level1">
<h1><span class="header-section-number">Capítulo 3</span> Problema</h1>
<p>A decifragem de Captchas pode ser entendida como um problema de classificação de imagens. Especificamente, nosso interesse é criar uma função <span class="math inline">\(g\)</span> que recebe uma imagem <span class="math inline">\(\mathbf X = \{x_{nmr} \in [0,1]\}_{N\times M \times R}\)</span> e retorna um vetor de índices <span class="math inline">\(\mathbf y\)</span>. Cada índice <span class="math inline">\(y_j\)</span> indica a presença de um caractere <span class="math inline">\(c_j\)</span>, <span class="math inline">\(j = 1, \dots, L\)</span>, onde <span class="math inline">\(L\)</span> é o número de caracteres contidos na imagem. Chamaremos <span class="math inline">\(L\)</span> de <em>comprimento</em> do Captcha, com <span class="math inline">\(L \in \mathbb{Z}_+\)</span>.</p>
<p>O problema pode ser detalhado em três itens, listados abaixo:</p>
<ol style="list-style-type: decimal">
<li>Nossa variável <strong>explicativa</strong>, a imagem, é uma matriz <span class="math inline">\(\mathbf X = \{x_{ijk}\}_{N\times M \times R}\)</span>, em que <span class="math inline">\(N\)</span> é o número de linhas, <span class="math inline">\(M\)</span> é o número de colunas e <span class="math inline">\(R\)</span> é o número de <em>cores</em>, ou <em>canais</em>.</li>
</ol>
<p>O elemento <span class="math inline">\(x_{nm\cdot}\)</span> é denominado <em>pixel</em>. Um pixel representa a menor unidade possível da imagem. Em uma imagem colorida, por exemplo, temos <span class="math inline">\(R=3\)</span>. Nesse caso, um pixel é um vetor de três dimensões com valores entre zero e um, representando a intensidade de vermelho, verde e azul da coordenada <span class="math inline">\((n, m)\)</span> da imagem. Numa imagem em escala de cinza, por exemplo, temos <span class="math inline">\(R=1\)</span> e o pixel, de uma dimensão, representa a intensidade do cinza, sendo 1 o equivalente da cor branca e 0 o preto.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>O objeto <span class="math inline">\(C \in \mathcal A^L\)</span> é um vetor de itens de um alfabeto <span class="math inline">\(\mathcal A\)</span>, de cardinalidade <span class="math inline">\(|\mathcal A|\)</span>, finito e conhecido. Esse alfabeto contém todos os possíveis caracteres que podem aparecer na imagem.</p></li>
<li><p>Nossa <strong>resposta</strong> <span class="math inline">\(\mathbf y \in \mathbb \{1, \dots, |\mathcal A|\}^L\)</span> é um vetor de índices de tamanho fixo. Cada elemento de <span class="math inline">\(\mathbf y\)</span> representa um elemento do alfabeto <span class="math inline">\(\mathcal A\)</span>.</p></li>
</ol>
<p>A obtenção de uma função <span class="math inline">\(g\)</span> capaz de mapear <span class="math inline">\(\mathbf y\)</span> a partir de uma nova imagem <span class="math inline">\(\mathbf X\)</span> depende de uma amostra de imagens <span class="math inline">\(\mathbf X_1, \dots, \mathbf X_S\)</span>, corretamente classificadas através do vetor <span class="math inline">\(\mathbf y_1, \dots, \mathbf y_S\)</span>. A tarefa é, portanto, obter uma estimativa <span class="math inline">\(\hat g\)</span> para a função <span class="math inline">\(g\)</span> que minimiza</p>
<p><span class="math display">\[
L(\hat g(\mathbf X), \mathbf y) = \mathbb I(g(\mathbf X) \neq \mathbf y)
\]</span></p>
<p>em que <span class="math inline">\(\mathbb I(g(\mathbf X) \neq \mathbf y)\)</span> indica se <span class="math inline">\(g(\mathbf X)\)</span> difere do que é observado em <span class="math inline">\(\mathbf y\)</span>. Isto é, pretende-se encontrar uma função que minimize a taxa de classificação incorreta das imagens que descrevem os textos dos Captchas.</p>
<div id="variantes" class="section level2">
<h2><span class="header-section-number">3.1</span> Variantes</h2>
<div id="audio" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Áudio</h3>
<p>Assim como em outros problemas, existem diversas formas de representação de dados.<br />
Para os Captchas, também é possível encontrá-los em formato de áudio. Nestes casos, o usuário é condicionado a ouvir um áudio e transcrever o que foi entendido de seu conteúdo em um texto.</p>
<p>É importante notar que este formato avalia uma competência diferente do usuário, em comparação às imagens. Com base na avaliação de Captchas de áudio durante o desenvolvimento do trabalho, verificou-se que estes são, em geral, menos complexos. Por exemplo, alguns Captchas neste formato são compostos por sons sem ruído, claramente entendíveis tanto por um ser humano quanto por uma máquina. Ou seja, caso se queira realizar a classificação automática destes Captchas, basta ter um conjunto de sons com seus respectivos significados. Dessa forma, um computador pode facilmente combinar os sons fornecidos com os correspondentes caracteres e obter a resposta para o desafio proposto, quebrando o Captcha.</p>
<p>Para os casos aonde há presença de ruído no áudio, existem fundamentalmente duas técnicas para a quebra dos Captchas. A primeira é baseada em engenharia de características [ref], que consiste na extração de covariáveis referentes aos áudios, utilizadas posteriormente em um modelo de regressão clássico para a classificação. O segundo método trata de encontrar o espectrograma do áudio, possibilitando o tratamento dele como uma imagem, o que nos leva a algo parecido com o problema inicial.</p>
</div>
<div id="covariaveis-e-numero-de-respostas-variavel" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Covariáveis e número de respostas variável</h3>
<p>Outra forma comum de manifestação de Captchas são imagens em que o número de letras é variante. Esse problema é mais complexo que o anterior, uma vez que a variável resposta não é mais um vetor de tamanho <span class="math inline">\(L\)</span> fixo.</p>
<p>Porém, é possível assumir o número de letras máximo que aparece numa imagem como fixo. Dessa maneira, uma solução para o problema do tamanho variável é considerar um caractere adicional <code>_</code> no alfabeto, chamado <em>placeholder</em>, que representa a ausência do algum caractere em determinada posição. Este caractere tem a função de substituir as posições vazias, fazendo com que o comprimento destes Captchas seja também uniforme. Assim, uma imagem com <span class="math inline">\(L_{\max} = 5\)</span>, por exemplo, pode ter uma classificação <code>cad5_</code>, que tem apenas quatro letras, mas foi completada até o número máximo de caracteres com o <em>placeholder</em>.</p>
<p>Uma complicação dessa proposta é que a posição dos <em>placeholders</em> não importa na classificação do captcha. Em outras palavras, as soluções <code>cad5_</code>, <code>ca_d5</code> e <code>_cad5</code> são equivalentes. Considerando a função de classificação a ser estimada, este obstáculo aumenta a dificuldade na estimação dos parâmetros por gerar mais ótimos locais, em detrimento de pontos ótimos globais.</p>
<p>Ainda nesta situação, outra alternativa é considerar que um dos interesses de predição é justamente o número de letras. Assim, teríamos</p>
<p><span class="math display">\[
\tilde{\mathbf{y}} = \left[l \;\; \mathbf y^\top \right]^\top,
\]</span></p>
<p>onde <span class="math inline">\(l\)</span> é o número de letras do Captcha específico e <span class="math inline">\(\mathbf y\)</span> tem comprimento <span class="math inline">\(L_{\max}\)</span>, preenchido com <em>placeholders</em>, como anteriormente. A presença do número de letras como componente da variável resposta do problema permite trabalhar adequadamente com os <em>placeholders</em>, pois podemos descartá-los na função de perda (verossimilhança) nas vezes em que o número de letras estimadas for menor do que <span class="math inline">\(L_{\max}\)</span>.</p>
<p>Usualmente, o problema de Captchas de tamanho variável é acompanhado pelo problema das covariáveis. Um tipo comum de Captcha com covariáveis envolve desafios como “digite todas as letras da cor verde”. Nesse caso, “verde” é uma covariável, pois é uma das informações que deve ser utilizada em combinação com a imagem completa para a predição correta do texto do Captcha.</p>
<p>Inicialmente, pode parecer contra-intuitivo considerar uma imagem e um texto como covariáveis para predizer o valor de <span class="math inline">\(\mathbf y\)</span>. Todavia, isso se dá de forma natural, principalmente na solução que proposta no Capítulo @ref{results}.</p>
</div>
<div id="recaptcha-2.0" class="section level3">
<h3><span class="header-section-number">3.1.3</span> reCaptcha 2.0</h3>
<p>O reCaptcha 2.0 desenvolvido pela Google é o <em>benchmark</em> no que se refere a geração de CAPTCHAs. Nesse desafio, o usuário é colocado para resolver diversos tipos de problemas de imagens como reconhecimento de placas de trânsito, fachadas de prédios e carros. O reCaptcha é utilizado não só para barrar robôs, como também para alimentar os modelos estatísticos da própria Google para seus produtos, como, por exemplo, o desenvolvimento de carros autônomos.</p>
<p>A dificuldade em resolver estes Captchas consiste na pluralidade de contextos, não na dificuldade que eles propõem <span class="citation">(<span class="citeproc-not-found" data-reference-id="goodfellow2013multi"><strong>???</strong></span>)</span>. A tarefa de identificar placas de trânsito em imagens é complicada, mas pode ser resolvida com alta taxa de acurácia utilizando-se modelos adequados. No entanto, o reCaptcha pode facilmente mudar a tarefa para identificação de fachadas, ou então identificação de felinos. Do ponto de vista estatístico, cada uma dessas tarefas exige uma base de dados de treinamento diferente, aumentando exponecialmente a dificuldade de resolução.</p>
<p>Na prática, o reCaptcha cria um jogo em que o autor do CAPTCHA tem muitas vantagens. O tempo necessário para criar uma nova tarefa é menor que o tempo necessário para resolvê-lo. Até hoje não existe uma solução geral para o reCaptcha 2.0 com taxas satisfatórias de acurácia. A principal forma de contornar o reCaptcha 2.0 é através da exploração de falhas no sistema de identificação de robôs ou a possibilidade de receber tarefas por áudio [sivakorn2016m]. Outras abordagens utilizam modelos robustos, como o ImageNet, para detecção genérica de objetos nas imagens, mas sem taxas de sucesso expressivas [mach2017automaticky].</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introducao.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="results.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yihui/bookdown-crc/edit/master/02-problem.Rmd",
"text": "Edit"
},
"download": ["jtrecenti_doctorate_captcha.pdf", "jtrecenti_doctorate_captcha.epub"],
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
